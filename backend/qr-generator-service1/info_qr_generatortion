
âœ… QR Generator Service â€” API Endpoints (MVP-1)

ğŸ“Œ Base URL Example

/api/v1/qr


This service generates and manages secure Digital Bus Pass QR Codes for students based on ERP data (fee status + bus assignment).

ğŸ“ 1ï¸âƒ£ Register Student & Generate QR Code

â¡ Data comes from ERP â†’ Student stored â†’ QR created

POST /api/v1/qr/register


Request Body

{
  "studentId": "STU-102",
  "name": "Akanksha",
  "department": "CSE",
  "busId": "BUS-05",
  "feeStatus": "PAID",
  "validityFrom": "2025-06-01",
  "validityTo": "2026-05-31"
}


Response

{
  "message": "QR Generated Successfully",
  "qrUrl": "https://cdn.smartcampus.in/qr/STU-102.png"
}

ğŸ“ 2ï¸âƒ£ Re-Generate QR Code

â¡ Triggered when ERP updates fee status or bus assignment

PUT /api/v1/qr/regenerate/{studentId}


Response

{
  "message": "QR Updated Successfully",
  "qrUrl": "https://cdn.smartcampus.in/qr/STU-102.png"
}

ğŸ“ 3ï¸âƒ£ Get QR Code for Student App

â¡ Display on mobile when opening bus pass screen

GET /api/v1/qr/{studentId}


Response

{
  "studentId": "STU-102",
  "qrUrl": "https://cdn.smartcampus.in/qr/STU-102.png",
  "status": "VALID"
}

ğŸ“ 4ï¸âƒ£ Validate If QR Exists

â¡ Used mainly by Admin Portal / Health check

GET /api/v1/qr/exists/{studentId}


Response

{
  "exists": true
}

ğŸ“ 5ï¸âƒ£ Update Fee Status (ERP Sync API)
PATCH /api/v1/qr/fee-status


Request

{
  "studentId": "STU-102",
  "feeStatus": "UNPAID"
}


Response

{
  "status": "QR Marked as INVALID"
}

â­ Final Summary Table (Perfect for PPT slide)
Feature	Endpoint	Method	Purpose
Register + Generate QR	/api/v1/qr/register	POST	Create QR from ERP student data
Re-generate QR	/api/v1/qr/regenerate/{studentId}	PUT	After fee / bus change
Get Student QR	/api/v1/qr/{studentId}	GET	Display in Student App
Check QR exists	/api/v1/qr/exists/{studentId}	GET	Admin health checks
Update fee status	/api/v1/qr/fee-status	PATCH	Real-time ERP sync
âœ… One-line Statement for Documentation / Architecture

â€œQR Generator Service securely creates, updates, and serves validated QR codes that act as digital bus passes for students based on ERP records.â€
